<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">




    <h:head>
        <title>Facelet Title</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    </h:head>

    <h:body>
        <ui:composition template="/addb/Templetes/Templete.xhtml">
            <ui:define name="content">
                <f:view locale="#{facesContext.externalContext.requestLocale}">

                    <div class="ui-g" >
                        <div class="ui-g-3"  > </div>
                        <div class="ui-g-6"  >
                            <div class="ui-g-12" style=" height: 140px;"  ></div>
                            <div class="ui-g-12"  >
                                <form id="ipForm">
                                    <script>
                                        function callback(response) {
                                            console.log(response);
                                            document.getElementById("ip").value = response.city;
                                        }


                                        $.ajax({
                                            url: "https://geoip-db.com/jsonp", dataType: "jsonp"

                                        });


                                    </script>
                                    <div class="ui-g-8" style="border: outset;  height: 70px; background-color: #13654a;"  >
                                        <input type="text"  name = "ipAddress" id = "ip" value="tmp" style="width: 100%; height: 100%; font-family: serif; font-size: 30px;"/>

                                    </div>
                                    <div class="ui-g-4" style="border: outset; height: 70px; background-color: #13654a;" >
                                        <h:commandButton action="#{addbController.setLocation()}" value="Din Position" style="width: 100%; height: 100%; font-family: serif; font-size: 20px;" />
                                    </div>
                                </form>
                            </div>
                            <div class="ui-g-12" style=" height: 200px;" ></div>
                        </div>
                        <div class="ui-g-3" ></div> 
                    </div>
                </f:view>
            </ui:define>

        </ui:composition>

    </h:body>


</html>

