<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">




    <h:head>
        <title>Facelet Title</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </h:head>

    <h:body>
        <ui:composition template="/addb/Templetes/Templete.xhtml">
            <ui:define name="content">
                <f:view locale="#{facesContext.externalContext.requestLocale}">

                    <h:form>


                        <div id="data"></div>


                        <div style="position: relative;text-align: center; color: #13654a; font-size: 20px;">
                            <div style=" position: absolute; top: 50%; padding-left: 250px;">



                                <!-- Rickard -->

                                <form id="ipForm">
                                    <input type="text"  name = "ipAddress" id = "ip" value="tmp"/>
                                    <h:inputText value="#{addbController.address}" required="true" 
                                                 requiredMessage="Please enter a address"/>
                                    <h:commandButton action="#{addbController.setLocation()}" value="faaaaan"/>
                                    
                                    

                                </form>



                                <script>
                                    function callback(response) {
                                        console.log(response);
                                        document.getElementById("ip").value = response.city;
                                    }


                                    $.ajax({
                                        url: "https://geoip-db.com/jsonp", dataType: "jsonp"

                                    })


                                </script>



                            </div>
                        </div>
                    </h:form>

                </f:view>
            </ui:define>

        </ui:composition>

    </h:body>



</html>

