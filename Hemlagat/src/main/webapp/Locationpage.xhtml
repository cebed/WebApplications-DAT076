<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <ui:composition template="template.xhtml">
        
        <ui:define name="body">
            
    <h:head>
        <title>Facelet Title</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    </h:head>
    <h:body>
        <div id="data"></div>
        Hello from Facelets
        
        
        <h:form>
            <form id="ipForm" action="GeoIPTest" method="POST">
                 <input type="text"  name = "ipAddress" id = "ip" value="temp"/>
                 <input type="submit" value="Din Position"/>
                 
                 
             </form>
          
            
        </h:form>
        
        <script>
        function callback(response){
            console.log(response);
            document.getElementById("ip").value=response.city;
        }
        

        $.ajax({
            url:"https://geoip-db.com/jsonp",dataType:"jsonp"

        })
        
        
        </script>
        
    </h:body>
            </ui:define>
         </ui:composition>
</html>

